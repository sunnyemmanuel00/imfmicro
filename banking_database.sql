--
-- File generated by merging all parts of the user-provided MySQL dump
-- and converting to PostgreSQL syntax.
--

--
-- PostgreSQL does not have a direct equivalent of `ON UPDATE CURRENT_TIMESTAMP`.
-- This function and trigger handle that functionality for the "users" table.
--
CREATE OR REPLACE FUNCTION update_timestamp()
RETURNS TRIGGER AS $$
BEGIN
    NEW."date_updated" = now();
    RETURN NEW;
END;
$$ language 'plpgsql';

--
-- Custom ENUM type for the `link_type` column in `user_linked_accounts`
--
CREATE TYPE link_type_enum AS ENUM('source', 'beneficiary');

--
-- Table structure for table "accounts"
--
DROP TABLE IF EXISTS "accounts";
CREATE TABLE "accounts" (
    "id" SERIAL PRIMARY KEY,
    "user_id" INTEGER,
    "account_number" VARCHAR(255) NOT NULL,
    "account_holder_name" VARCHAR(255) NOT NULL,
    "account_type" VARCHAR(255) NOT NULL,
    "balance" FLOAT(50) DEFAULT 0,
    "date_created" TIMESTAMP NOT NULL DEFAULT NOW(),
    "date_updated" TIMESTAMP
);

--
-- Dumping data for table "accounts"
--
INSERT INTO "accounts" ("id", "user_id", "account_number", "account_holder_name", "account_type", "balance", "date_created", "date_updated") VALUES
(1, 1, '6231415', 'Mark John', 'Checking', 10000, '2021-07-14 12:03:58', NULL),
(2, 2, '10140715', 'Joe Smith', 'Savings', 20000, '2021-07-14 12:05:19', NULL),
(3, 3, '5432109876', 'Charles', 'Savings', 1000, '2025-06-11 22:56:12', NULL),
(4, 4, '5994588630', 'George', 'Savings', 200, '2025-06-11 22:56:12', NULL),
(5, 5, '5994588630', 'George Hans', 'Savings', 30500, '2025-06-11 22:56:12', NULL),
(6, 6, '3963787860', 'Miracle Thomas', 'Savings', 1000, '2025-06-11 22:56:12', NULL),
(7, 7, '2345678912', 'Philip', 'Savings', 0, '2025-06-11 22:56:12', NULL),
(8, 8, '8765432198', 'Tunde', 'Savings', 0, '2025-06-11 22:56:12', NULL),
(9, 9, '1234567890', 'Anuoluwapo', 'Savings', 0, '2025-06-11 22:56:12', NULL),
(10, 10, '4280912401', 'Don Philip', 'Savings', 200, '2025-06-11 22:56:12', NULL),
(11, 11, '9494405173', 'Morris Abali', 'Savings', 6357, '2025-06-11 22:56:12', NULL),
(12, 12, '3963787860', 'Miracle Thomas', 'Loan', 15440, '2025-06-11 22:56:12', NULL),
(13, 13, '5827241966', 'Charles Anwurum', 'Savings', 1633, '2025-06-11 22:56:12', NULL),
(14, 14, '9180554139', 'Imo Dominic', 'Savings', 800, '2025-06-11 22:56:12', NULL),
(15, 15, '7890123456', 'Ibrahim', 'Savings', 0, '2025-06-11 22:56:12', NULL),
(16, 16, '9012345678', 'Michael', 'Savings', 0, '2025-06-11 22:56:12', NULL),
(17, 17, '5432167890', 'Precious', 'Savings', 0, '2025-06-11 22:56:12', NULL),
(18, 18, '9876543210', 'Ebere', 'Savings', 0, '2025-06-11 22:56:12', NULL),
(19, 19, '9876543210', 'Ebere', 'Savings', 0, '2025-06-11 22:56:12', NULL),
(20, 20, '5387112226', 'Charles Thomas', 'Savings', 1000, '2025-06-11 22:56:12', NULL),
(21, 21, '9876543210', 'Ebere', 'Savings', 0, '2025-06-11 22:56:12', NULL),
(22, 22, '3777431476', 'Hen Awu', 'Savings', 0, '2025-06-11 22:56:12', NULL),
(23, 23, '4098526569', 'Udom', 'Savings', 0, '2025-06-11 22:56:12', NULL),
(24, 24, '4231498915', 'Sunday Ozon', 'Savings', 200, '2025-06-11 22:56:12', NULL);

--
-- Table structure for table "announcements"
--
DROP TABLE IF EXISTS "announcements";
CREATE TABLE "announcements" (
    "id" SERIAL PRIMARY KEY,
    "user_id" INTEGER NOT NULL,
    "message" TEXT NOT NULL,
    "status" BOOLEAN DEFAULT FALSE,
    "date_created" TIMESTAMP NOT NULL DEFAULT NOW()
);

--
-- Dumping data for table "announcements"
--
INSERT INTO "announcements" ("id", "user_id", "message", "status", "date_created") VALUES
(1, 1, '<p>Dear Customer,<br></p><p>We are excited to announce our new interest rates. Visit our website or your local branch to learn more.</p>', FALSE, '2025-06-12 09:37:34'),
(2, 1, '<p>Important Security Update: We have updated our login protocols to ensure better protection for your accounts.</p>', FALSE, '2025-06-12 09:37:34'),
(3, 1, '<p>System maintenance is scheduled for this weekend. Some services may be temporarily unavailable.<br></p>', FALSE, '2025-06-12 09:37:34');

--
-- Table structure for table "inquiries"
--
DROP TABLE IF EXISTS "inquiries";
CREATE TABLE "inquiries" (
    "id" SERIAL PRIMARY KEY,
    "name" VARCHAR(255) NOT NULL,
    "email" VARCHAR(255) NOT NULL,
    "subject" VARCHAR(255) NOT NULL,
    "message" TEXT NOT NULL,
    "date_created" TIMESTAMP NOT NULL DEFAULT NOW()
);

--
-- Dumping data for table "inquiries"
--
INSERT INTO "inquiries" ("id", "name", "email", "subject", "message", "date_created") VALUES
(1, 'Jane Doe', 'jane.doe@example.com', 'Account Access Issue', 'I am unable to log in to my account. Please assist me with this issue.', '2025-06-12 10:15:21'),
(2, 'John Smith', 'john.smith@example.com', 'Question about interest rates', 'Can you provide more details about the new interest rates mentioned in your announcement?', '2025-06-12 10:20:00'),
(3, 'Emily White', 'emily.white@example.com', 'Feedback on website', 'I find the new website design very user-friendly and modern. Great job!', '2025-06-12 10:25:30');

--
-- Table structure for table "system_info"
--
DROP TABLE IF EXISTS "system_info";
CREATE TABLE "system_info" (
    "id" SERIAL PRIMARY KEY,
    "meta_field" TEXT NOT NULL,
    "meta_value" TEXT NOT NULL
);

--
-- Dumping data for table "system_info"
--
INSERT INTO "system_info" ("id", "meta_field", "meta_value") VALUES
(1, 'name', 'Online Banking System'),
(6, 'email', 'info@banking.system.com'),
(11, 'contact', '234567890'),
(12, 'address', '3345 Road City, State 1205.'),
(13, 'img', 'uploads/1624240500_avatar.png'),
(14, 'about', '<div>... About us text ...</div>');

--
-- Table structure for table "transactions"
--
DROP TABLE IF EXISTS "transactions";
CREATE TABLE "transactions" (
    "id" SERIAL PRIMARY KEY,
    "transaction_code" TEXT UNIQUE,
    "account_id" INTEGER NOT NULL,
    "type" SMALLINT NOT NULL,
    "amount" FLOAT(50) NOT NULL,
    "remarks" TEXT,
    "status" VARCHAR(255) NOT NULL,
    "linked_account_id" INTEGER,
    "transaction_type" TEXT,
    "meta_data" TEXT,
    "sender_account_number" TEXT,
    "receiver_account_number" TEXT,
    "date_created" TIMESTAMP NOT NULL DEFAULT NOW()
);

--
-- Dumping data for table "transactions"
--
INSERT INTO "transactions" ("id", "transaction_code", "account_id", "type", "amount", "remarks", "status", "linked_account_id", "transaction_type", "meta_data", "sender_account_number", "receiver_account_number", "date_created") VALUES
(1, NULL, 1, 1, 10000, 'Beginning balance', 'completed', NULL, NULL, NULL, NULL, NULL, '2021-07-14 12:03:58'),
(2, NULL, 2, 1, 20000, 'Beginning balance', 'completed', NULL, NULL, NULL, NULL, NULL, '2021-07-14 12:05:19'),
(3, NULL, 1, 1, 5000, 'Deposits', 'completed', NULL, NULL, NULL, NULL, NULL, '2021-07-14 13:32:03'),
(6, NULL, 2, 1, 2500, 'Withdraw', 'completed', NULL, NULL, NULL, NULL, NULL, '2021-07-14 13:37:59'),
(7, NULL, 1, 3, 3000, 'Transferred to 10140715', 'completed', NULL, NULL, NULL, NULL, NULL, '2021-07-14 13:51:04'),
(8, NULL, 2, 3, 3000, 'Transferred from 6231415', 'completed', NULL, NULL, NULL, NULL, NULL, '2021-07-14 13:51:04'),
(10, NULL, 1, 1, 3000, 'Deposits', 'completed', NULL, NULL, NULL, NULL, NULL, '2021-07-14 15:23:21'),
(11, NULL, 1, 1, 1000, 'Withdraw', 'completed', NULL, NULL, NULL, NULL, NULL, '2021-07-14 15:25:20'),
(12, NULL, 1, 3, 1000, 'Transferred to 10140715', 'completed', NULL, NULL, NULL, NULL, NULL, '2021-07-14 15:35:16'),
(13, NULL, 2, 3, 1000, 'Transferred from 6231415', 'completed', NULL, NULL, NULL, NULL, NULL, '2021-07-14 15:35:16'),
(14, NULL, 1, 1, 5000, 'Deposits', 'completed', NULL, NULL, NULL, NULL, NULL, '2021-07-14 15:49:15'),
(15, NULL, 1, 1, 1000, 'Deposits', 'completed', NULL, NULL, NULL, NULL, NULL, '2021-07-14 15:55:54'),
(16, NULL, 1, 1, 1000, 'Withdraw', 'completed', NULL, NULL, NULL, NULL, NULL, '2021-07-14 15:56:12'),
(21, '-20250615-041612-755421b9-S', 13, 3, 1000, 'Transfer to Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 6, 'internal_transfer_outgoing', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":15000}', '5827241966', '3963787860', '2025-06-14 21:16:12'),
(22, '-20250615-041612-755421b9-R', 12, 1, 1000, 'Transfer from Linked Primary Account (5827241966) - ', 'completed', 6, 'internal_transfer_incoming', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":15000}', '5827241966', '3963787860', '2025-06-14 21:16:12'),
(23, '-20250615-044903-9202309f-S', 13, 3, 1000, 'Transfer to Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 6, 'internal_transfer_outgoing', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":14000}', '5827241966', '3963787860', '2025-06-14 21:49:03'),
(24, '-20250615-044903-9202309f-R', 12, 1, 1000, 'Transfer from Linked Primary Account (5827241966) - ', 'completed', 6, 'internal_transfer_incoming', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":14000}', '5827241966', '3963787860', '2025-06-14 21:49:03'),
(25, '-20250615-193038-649d436a-S', 13, 3, 1000, 'Transfer to Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 6, 'internal_transfer_outgoing', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":13000}', '5827241966', '3963787860', '2025-06-15 12:30:38'),
(26, '-20250615-193038-649d436a-R', 12, 1, 1000, 'Transfer from Linked Primary Account (5827241966) - ', 'completed', 6, 'internal_transfer_incoming', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":13000}', '5827241966', '3963787860', '2025-06-15 12:30:38'),
(27, '-20250615-200500-a704d46d-S', 13, 3, 500, 'Transfer to Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 6, 'internal_transfer_outgoing', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":12000}', '5827241966', '3963787860', '2025-06-15 13:05:00'),
(28, '-20250615-200500-a704d46d-R', 12, 1, 500, 'Transfer from Linked Primary Account (5827241966) - ', 'completed', 6, 'internal_transfer_incoming', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":12000}', '5827241966', '3963787860', '2025-06-15 13:05:00'),
(29, '-20250615-214718-4dfba873-R', 13, 1, 1000, 'Deposit from Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 6, 'deposit_internal_completed', '{"source_linked_account_id":"6","source_account_number_linked":"3963787860","source_account_holder_name_linked":"Miracle Thomas","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":11500}', '3963787860', '5827241966', '2025-06-15 14:47:18'),
(30, '-20250615-214718-4dfba873-S', 12, 3, 1000, 'Transfer to Linked Account (5827241966) - ', 'completed', 6, 'internal_pull_outgoing', '{"source_linked_account_id":"6","source_account_number_linked":"3963787860","source_account_holder_name_linked":"Miracle Thomas","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":11500}', '3963787860', '5827241966', '2025-06-15 14:47:18'),
(31, '-20250615-215409-34fad36e-S', 13, 3, 1000, 'Transfer to Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 6, 'internal_transfer_outgoing', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":12500}', '5827241966', '3963787860', '2025-06-15 14:54:09'),
(32, '-20250615-215409-34fad36e-R', 12, 1, 1000, 'Transfer from Linked Primary Account (5827241966) - ', 'completed', 6, 'internal_transfer_incoming', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":12500}', '5827241966', '3963787860', '2025-06-15 14:54:09'),
(33, '-20250615-220859-bf168422-S', 13, 3, 1000, 'Transfer to Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 6, 'internal_transfer_outgoing', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":11500}', '5827241966', '3963787860', '2025-06-15 15:08:59'),
(34, '-20250615-220859-bf168422-R', 12, 1, 1000, 'Transfer from Linked Primary Account (5827241966) - ', 'completed', 6, 'internal_transfer_incoming', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":11500}', '5827241966', '3963787860', '2025-06-15 15:08:59'),
(35, '-20250615-232102-459f1310-R', 13, 1, 500, 'Deposit from Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 6, 'deposit_internal_completed', '{"source_linked_account_id":"6","source_account_number_linked":"3963787860","source_account_holder_name_linked":"Miracle Thomas","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":10500}', '3963787860', '5827241966', '2025-06-15 16:21:02'),
(36, '-20250615-232102-459f1310-S', 12, 3, 500, 'Transfer to Linked Account (5827241966) - ', 'completed', 6, 'internal_pull_outgoing', '{"source_linked_account_id":"6","source_account_number_linked":"3963787860","source_account_holder_name_linked":"Miracle Thomas","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":10500}', '3963787860', '5827241966', '2025-06-15 16:21:02'),
(37, '-20250615-232302-a2ddfea4-R', 13, 1, 800, 'Deposit from Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 6, 'deposit_internal_completed', '{"source_linked_account_id":"6","source_account_number_linked":"3963787860","source_account_holder_name_linked":"Miracle Thomas","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":11000}', '3963787860', '5827241966', '2025-06-15 16:23:02'),
(38, '-20250615-232302-a2ddfea4-S', 12, 3, 800, 'Transfer to Linked Account (5827241966) - ', 'completed', 6, 'internal_pull_outgoing', '{"source_linked_account_id":"6","source_account_number_linked":"3963787860","source_account_holder_name_linked":"Miracle Thomas","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":11000}', '3963787860', '5827241966', '2025-06-15 16:23:02'),
(39, '-20250615-232638-d2a8d2ee-R', 13, 1, 700, 'Deposit from Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 6, 'deposit_internal_completed', '{"source_linked_account_id":"6","source_account_number_linked":"3963787860","source_account_holder_name_linked":"Miracle Thomas","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":11800}', '3963787860', '5827241966', '2025-06-15 16:26:38'),
(40, '-20250615-232638-d2a8d2ee-S', 12, 3, 700, 'Transfer to Linked Account (5827241966) - ', 'completed', 6, 'internal_pull_outgoing', '{"source_linked_account_id":"6","source_account_number_linked":"3963787860","source_account_holder_name_linked":"Miracle Thomas","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":11800}', '3963787860', '5827241966', '2025-06-15 16:26:38'),
(41, '-20250615-232947-a9abf4b3-S', 13, 3, 1200, 'Transfer to Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 6, 'internal_transfer_outgoing', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":12500}', '5827241966', '3963787860', '2025-06-15 16:29:47'),
(42, '-20250615-232947-a9abf4b3-R', 12, 1, 1200, 'Transfer from Linked Primary Account (5827241966) - ', 'completed', 6, 'internal_transfer_incoming', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":12500}', '5827241966', '3963787860', '2025-06-15 16:29:47'),
(43, '-20250615-233340-7ba34e23-S', 13, 3, 1900, 'Transfer to Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 6, 'internal_transfer_outgoing', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":11300}', '5827241966', '3963787860', '2025-06-15 16:33:40'),
(44, '-20250615-233340-7ba34e23-R', 12, 1, 1900, 'Transfer from Linked Primary Account (5827241966) - ', 'completed', 6, 'internal_transfer_incoming', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":11300}', '5827241966', '3963787860', '2025-06-15 16:33:40'),
(45, '-20250616-052658-a026f899-S', 13, 3, 700, 'Transfer to Morris Abali (Account: 9494405173)', 'completed', NULL, '0', '{"sender_balance_before":9400,"receiver_account_number":"9494405173","receiver_account_name":"Morris Abali","narration":""}', '5827241966', '9494405173', '2025-06-15 22:26:58'),
(46, '-20250616-052658-a026f899-R', 11, 1, 700, 'Transfer from Charles Anwurum (Account: 5827241966)', 'completed', NULL, '0', '{"receiver_balance_before":4300,"sender_account_number":"5827241966","sender_account_name":"Charles Anwurum","narration":""}', '5827241966', '9494405173', '2025-06-15 22:26:58'),
(47, '-20250616-053252-EXT-1e6d283c', 13, 3, 700, 'External Transfer Request to Frank Henshaw (ACESS BANK, Account: 987654398765)', 'pending', NULL, 'transfer_external_pending', '{"sender_account_number":"5827241966","sender_account_name":null,"sender_balance_before":8700,"recipient_bank_name":"ACESS BANK","recipient_account_number":"987654398765","recipient_account_name":"Frank Henshaw","swift_bic":"9876543098123490","routing_number":"","iban":"","beneficiary_address":"12 christiain centre","beneficiary_phone":"8976542345","narration":""}', '5827241966', '987654398765', '2025-06-15 22:32:52'),
(48, '-20250616-064423-bfc2e83f-S', 13, 3, 600, 'Transfer to Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 6, 'internal_transfer_outgoing', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":8000}', '5827241966', '3963787860', '2025-06-15 23:44:23'),
(49, '-20250616-064423-bfc2e83f-R', 12, 1, 600, 'Transfer from Linked Primary Account (5827241966) - ', 'completed', 6, 'internal_transfer_incoming', '{"destination_linked_account_id":"6","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":8000}', '5827241966', '3963787860', '2025-06-15 23:44:23'),
(50, '-20250616-065014-8e1d7d80-S', 13, 3, 690, 'Transfer to Morris Abali (Account: 9494405173)', 'completed', NULL, '0', '{"sender_balance_before":7400,"receiver_account_number":"9494405173","receiver_account_name":"Morris Abali","narration":""}', '5827241966', '9494405173', '2025-06-15 23:50:14'),
(51, '-20250616-065014-8e1d7d80-R', 11, 1, 690, 'Transfer from Charles Anwurum (Account: 5827241966)', 'completed', NULL, '0', '{"receiver_balance_before":5000,"sender_account_number":"5827241966","sender_account_name":"Charles Anwurum","narration":""}', '5827241966', '9494405173', '2025-06-15 23:50:14'),
(52, '-20250616-065718-3936803d-S', 13, 3, 400, 'Transfer to Morris Abali (Account: 9494405173)', 'completed', NULL, '0', '{"sender_balance_before":6710,"receiver_account_number":"9494405173","receiver_account_name":"Morris Abali","narration":""}', '5827241966', '9494405173', '2025-06-15 23:57:18'),
(53, '-20250616-065718-3936803d-R', 11, 1, 400, 'Transfer from Charles Anwurum (Account: 5827241966)', 'completed', NULL, '0', '{"receiver_balance_before":5690,"sender_account_number":"5827241966","sender_account_name":"Charles Anwurum","narration":""}', '5827241966', '9494405173', '2025-06-15 23:57:18'),
(54, '-20250616-072304-22f86201-S', 13, 3, 520, 'Transfer to Miracle Thomas (Account: 3963787860)', 'completed', NULL, '0', '{"sender_balance_before":6310,"receiver_account_number":"3963787860","receiver_account_name":"Miracle Thomas","narration":""}', '5827241966', '3963787860', '2025-06-16 00:23:04'),
(55, '-20250616-072304-22f86201-R', 12, 1, 520, 'Transfer from Charles Anwurum (Account: 5827241966)', 'completed', NULL, '0', '{"receiver_balance_before":18200,"sender_account_number":"5827241966","sender_account_name":"Charles Anwurum","narration":""}', '5827241966', '3963787860', '2025-06-16 00:23:04'),
(56, '-20250616-075052-8447b6c4-S', 13, 3, 567, 'Transfer to Morris Abali (Account: 9494405173)', 'completed', NULL, '0', '{"sender_balance_before":5790,"receiver_account_number":"9494405173","receiver_account_name":"Morris Abali","narration":""}', '5827241966', '9494405173', '2025-06-16 00:50:52'),
(57, '-20250616-075052-8447b6c4-R', 11, 1, 567, 'Transfer from Charles Anwurum (Account: 5827241966)', 'completed', NULL, '0', '{"receiver_balance_before":6090,"sender_account_number":"5827241966","sender_account_name":"Charles Anwurum","narration":""}', '5827241966', '9494405173', '2025-06-16 00:50:52'),
(58, '-20250616-075842-d0e40aff-S', 13, 3, 420, 'Transfer to Miracle Thomas (Account: 3963787860)', 'completed', NULL, '0', '{"sender_balance_before":5223,"receiver_account_number":"3963787860","receiver_account_name":"Miracle Thomas","narration":""}', '5827241966', '3963787860', '2025-06-16 00:58:42'),
(59, '-20250616-075842-d0e40aff-R', 12, 1, 420, 'Transfer from Charles Anwurum (Account: 5827241966)', 'completed', NULL, '0', '{"receiver_balance_before":18720,"sender_account_number":"5827241966","sender_account_name":"Charles Anwurum","narration":""}', '5827241966', '3963787860', '2025-06-16 00:58:42'),
(60, '-20250616-081927-137dcc9e-S', 13, 3, 200, 'Transfer to Miracle Thomas (Account: 3963787860)', 'completed', NULL, '0', '{"sender_balance_before":4803,"receiver_account_number":"3963787860","receiver_account_name":"Miracle Thomas","narration":""}', '5827241966', '3963787860', '2025-06-16 01:19:27'),
(61, '-20250616-081927-137dcc9e-R', 12, 1, 200, 'Transfer from Charles Anwurum (Account: 5827241966)', 'completed', NULL, '0', '{"receiver_balance_before":19140,"sender_account_number":"5827241966","sender_account_name":"Charles Anwurum","narration":""}', '5827241966', '3963787860', '2025-06-16 01:19:27'),
(62, '-20250619-044158-66b2d93f-S', 13, 3, 500, 'Transfer to Internal Linked Account (5287941418) - Charles Thomas', 'completed', 20, 'internal_transfer_outgoing', '{"destination_linked_account_id":"20","destination_account_number_linked":"5287941418","destination_account_holder_name_linked":"Charles Thomas","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":4603}', '5827241966', '5287941418', '2025-06-18 21:41:58'),
(64, '-20250619-044409-0ae946ff-R', 13, 1, 200, 'Deposit from Internal Linked Account (5287941418) - Charles Thomas', 'completed', 20, 'deposit_internal_completed', '{"source_linked_account_id":"20","source_account_number_linked":"5287941418","source_account_holder_name_linked":"Charles Thomas","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":4103}', '5287941418', '5827241966', '2025-06-18 21:44:09'),
(66, '-20250619-044644-0b05512a-S', 13, 3, 150, 'Transfer to Charles Thomas (Account: 5287941418)', 'completed', NULL, '0', '{"sender_balance_before":4303,"receiver_account_number":"5287941418","receiver_account_name":"Charles Thomas","narration":""}', '5827241966', '5287941418', '2025-06-18 21:46:44'),
(68, '-20250619-044948-EXT-df4e5db1', 13, 3, 1000, 'External Transfer Request to FRANKLIN ANDERSON (DIAMOND FINANCIAL, Account: 78765432987)', 'pending', NULL, 'transfer_external_pending', '{"sender_account_number":"5827241966","sender_account_name":null,"sender_balance_before":4153,"recipient_bank_name":"DIAMOND FINANCIAL","recipient_account_number":"78765432987","recipient_account_name":"FRANKLIN ANDERSON","swift_bic":"9876543298","routing_number":"","iban":"","beneficiary_address":"234 YORKSHAIRE AVENUE LONDON","beneficiary_phone":"0987654309","narration":""}', '5827241966', '78765432987', '2025-06-18 21:49:48'),
(69, '-20250619-060316-206ffd3e-S', 13, 3, 500, 'Transfer to Internal Linked Account (9494405173) - Morris Abali', 'completed', 21, 'internal_transfer_outgoing', '{"destination_linked_account_id":"21","destination_account_number_linked":"9494405173","destination_account_holder_name_linked":"Morris Abali","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":3153}', '5827241966', '9494405173', '2025-06-18 23:03:16'),
(70, '-20250619-060316-206ffd3e-R', 11, 1, 500, 'Transfer from Linked Primary Account (5827241966) - ', 'completed', 21, 'internal_transfer_incoming', '{"destination_linked_account_id":"21","destination_account_number_linked":"9494405173","destination_account_holder_name_linked":"Morris Abali","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":3153}', '5827241966', '9494405173', '2025-06-18 23:03:16'),
(71, '-20250619-062338-30189228-S', 13, 3, 500, 'Transfer to Internal Linked Account (9180554139) - Imo Dominic', 'completed', 22, 'internal_transfer_outgoing', '{"destination_linked_account_id":"22","destination_account_number_linked":"9180554139","destination_account_holder_name_linked":"Imo  Dominic","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":2653}', '5827241966', '9180554139', '2025-06-18 23:23:38'),
(72, '-20250619-062338-30189228-R', 14, 1, 500, 'Transfer from Linked Primary Account (5827241966) - ', 'completed', 22, 'internal_transfer_incoming', '{"destination_linked_account_id":"22","destination_account_number_linked":"9180554139","destination_account_holder_name_linked":"Imo  Dominic","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":2653}', '5827241966', '9180554139', '2025-06-18 23:23:38'),
(73, '-20250619-103614-9034f02b-S', 13, 3, 300, 'Transfer to Internal Linked Account (9180554139) - Imo Dominic', 'completed', 22, 'internal_transfer_outgoing', '{"destination_linked_account_id":"22","destination_account_number_linked":"9180554139","destination_account_holder_name_linked":"Imo  Dominic","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":2153}', '5827241966', '9180554139', '2025-06-19 03:36:14'),
(74, '-20250619-103614-9034f02b-R', 14, 1, 300, 'Transfer from Linked Primary Account (5827241966) - ', 'completed', 22, 'internal_transfer_incoming', '{"destination_linked_account_id":"22","destination_account_number_linked":"9180554139","destination_account_holder_name_linked":"Imo  Dominic","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":2153}', '5827241966', '9180554139', '2025-06-19 03:36:14'),
(75, NULL, 5, 1, 1000, 'BONUS', 'completed', NULL, NULL, NULL, NULL, NULL, '2025-06-20 16:44:25'),
(76, NULL, 5, 2, 500, 'Fees', 'completed', NULL, NULL, NULL, NULL, NULL, '2025-06-20 16:50:18'),
(77, NULL, 5, 2, 200, 'SMS FEES', 'completed', NULL, NULL, NULL, NULL, NULL, '2025-06-20 17:32:13'),
(78, 'IMF-20250621-022350-a6a3cf77-S', 11, 3, 100, 'Transfer to Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 23, 'internal_transfer_outgoing', '{"destination_linked_account_id":"23","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- IMF Micro Finance Bank","primary_account_balance_before":7157}', '9494405173', '3963787860', '2025-06-20 19:23:50'),
(79, 'IMF-20250621-022350-a6a3cf77-R', 12, 1, 100, 'Transfer from Linked Primary Account (9494405173) - ', 'completed', 23, 'internal_transfer_incoming', '{"destination_linked_account_id":"23","destination_account_number_linked":"3963787860","destination_account_holder_name_linked":"Miracle Thomas","destination_bank_name_linked":"- IMF Micro Finance Bank","primary_account_balance_before":7157}', '9494405173', '3963787860', '2025-06-20 19:23:50'),
(80, 'IMF-20250621-023122-c2c6b9f5-R', 12, 1, 6000, 'Deposit from Internal Linked Account (9494405173) - Morris Abali', 'completed', 24, 'deposit_internal_completed', '{"source_linked_account_id":"24","source_account_number_linked":"9494405173","source_account_holder_name_linked":"Morris Abali","source_bank_name_linked":"- IMF Micro Finance Bank","primary_account_balance_before":19440}', '9494405173', '3963787860', '2025-06-20 19:31:22'),
(81, 'IMF-20250621-023122-c2c6b9f5-S', 11, 3, 6000, 'Transfer to Linked Account (3963787860) - ', 'completed', 24, 'internal_pull_outgoing', '{"source_linked_account_id":"24","source_account_number_linked":"9494405173","source_account_holder_name_linked":"Morris Abali","source_bank_name_linked":"- IMF Micro Finance Bank","primary_account_balance_before":19440}', '9494405173', '3963787860', '2025-06-20 19:31:22'),
(82, 'IMF-20250621-023556-cbcdd6e5-R', 11, 1, 10000, 'Deposit from Internal Linked Account (3963787860) - Miracle Thomas', 'completed', 23, 'deposit_internal_completed', '{"source_linked_account_id":"23","source_account_number_linked":"3963787860","source_account_holder_name_linked":"Miracle Thomas","source_bank_name_linked":"- IMF Micro Finance Bank","primary_account_balance_before":1057}', '3963787860', '9494405173', '2025-06-20 19:35:56'),
(83, 'IMF-20250621-023556-cbcdd6e5-S', 12, 3, 10000, 'Transfer to Linked Account (9494405173) - ', 'completed', 23, 'internal_pull_outgoing', '{"source_linked_account_id":"23","source_account_number_linked":"3963787860","source_account_holder_name_linked":"Miracle Thomas","source_bank_name_linked":"- IMF Micro Finance Bank","primary_account_balance_before":1057}', '3963787860', '9494405173', '2025-06-20 19:35:56'),
(84, 'IMF-20250621-024151-22455bdc-S', 12, 3, 1500, 'Transfer to Morris Abali (Account: 9494405173)', 'completed', NULL, '0', '{"sender_balance_before":15440,"receiver_account_number":"9494405173","receiver_account_name":"Morris Abali","narration":""}', '3963787860', '9494405173', '2025-06-20 19:41:51'),
(85, 'IMF-20250621-024151-22455bdc-R', 11, 1, 1500, 'Transfer from Miracle Thomas (Account: 3963787860)', 'completed', NULL, '0', '{"receiver_balance_before":11057,"sender_account_number":"3963787860","sender_account_name":"Miracle Thomas","narration":""}', '3963787860', '9494405173', '2025-06-20 19:41:51'),
(86, 'IMF-20250621-050633-dc352862-S', 13, 3, 200, 'Transfer to George Hans Christy Anderson (Account: 5994588630) - For grocery', 'completed', NULL, '0', '{"sender_balance_before":1853,"receiver_account_number":"5994588630","receiver_account_name":"George Hans Christy Anderson","narration":"For grocery"}', '5827241966', '5994588630', '2025-06-20 22:06:33'),
(87, 'IMF-20250621-050633-dc352862-R', 5, 1, 200, 'Transfer from Charles Anwurum (Account: 5827241966) - For grocery', 'completed', NULL, '0', '{"receiver_balance_before":30300,"sender_account_number":"5827241966","sender_account_name":"Charles Anwurum","narration":"For grocery"}', '5827241966', '5994588630', '2025-06-20 22:06:33'),
(88, 'IMF-20250621-050831-EXT-726ad8d8', 13, 3, 400, 'External Transfer Request to Daniel Vic (Acess, Account: 9876543098)', 'pending', NULL, 'transfer_external_pending', '{"sender_account_number":"5827241966","sender_account_name":null,"sender_balance_before":1653,"recipient_bank_name":"Acess","recipient_account_number":"9876543098","recipient_account_name":"Daniel Vic","swift_bic":"9876523456","routing_number":"","iban":"","beneficiary_address":"","beneficiary_phone":"","narration":""}', '5827241966', '9876543098', '2025-06-20 22:08:31'),
(89, 'IMF-20250624-061514-57bf61bf-R', 13, 1, 100, 'Deposit from Internal Linked Account (9494405173) - Morris Abali', 'completed', 21, 'deposit_internal_completed', '{"source_linked_account_id":"21","source_account_number_linked":"9494405173","source_account_holder_name_linked":"Morris Abali","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":1253}', '9494405173', '5827241966', '2025-06-23 23:15:14'),
(90, 'IMF-20250624-061514-57bf61bf-S', 11, 3, 100, 'Transfer to Linked Account (5827241966) - ', 'completed', 21, 'internal_pull_outgoing', '{"source_linked_account_id":"21","source_account_number_linked":"9494405173","source_account_holder_name_linked":"Morris Abali","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":1253}', '9494405173', '5827241966', '2025-06-23 23:15:15'),
(91, 'IMF-20250624-124226-62a6f414-R', 13, 1, 100, 'Deposit from Internal Linked Account (9494405173) - Morris Abali', 'completed', 21, 'deposit_internal_completed', '{"source_linked_account_id":"21","source_account_number_linked":"9494405173","source_account_holder_name_linked":"Morris Abali","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":1353}', '9494405173', '5827241966', '2025-06-24 05:42:26'),
(92, 'IMF-20250624-124226-62a6f414-S', 11, 3, 100, 'Transfer to Linked Account (5827241966) - ', 'completed', 21, 'internal_pull_outgoing', '{"source_linked_account_id":"21","source_account_number_linked":"9494405173","source_account_holder_name_linked":"Morris Abali","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":1353}', '9494405173', '5827241966', '2025-06-24 05:42:26'),
(93, 'IMF-20250625-012641-9aab0aac-R', 13, 1, 100, 'Deposit from Internal Linked Account (9494405173) - Morris Abali', 'completed', 21, 'deposit_internal_completed', '{"source_linked_account_id":"21","source_account_number_linked":"9494405173","source_account_holder_name_linked":"Morris Abali","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":1453}', '9494405173', '5827241966', '2025-06-24 18:26:41'),
(94, 'IMF-20250625-012641-9aab0aac-S', 11, 3, 100, 'Transfer to Linked Account (5827241966) - ', 'completed', 21, 'internal_pull_outgoing', '{"source_linked_account_id":"21","source_account_number_linked":"9494405173","source_account_holder_name_linked":"Morris Abali","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":1453}', '9494405173', '5827241966', '2025-06-24 18:26:41'),
(95, 'IMF-20250625-063445-616d6be7-S', 13, 3, 50, 'Transfer to Internal Linked Account (9494405173) - Morris Abali', 'completed', 21, 'internal_transfer_outgoing', '{"destination_linked_account_id":"21","destination_account_number_linked":"9494405173","destination_account_holder_name_linked":"Morris Abali","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":1553}', '5827241966', '9494405173', '2025-06-24 23:34:45'),
(96, 'IMF-20250625-063445-616d6be7-R', 11, 1, 50, 'Transfer from Linked Primary Account (5827241966) - ', 'completed', 21, 'internal_transfer_incoming', '{"destination_linked_account_id":"21","destination_account_number_linked":"9494405173","destination_account_holder_name_linked":"Morris Abali","destination_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":1553}', '5827241966', '9494405173', '2025-06-24 23:34:45'),
(97, 'IMF-20250625-094219-d7f495d2-R', 13, 1, 200, 'Deposit from Internal Linked Account (4280912401) - Don Philip', 'completed', 19, 'deposit_internal_completed', '{"source_linked_account_id":"19","source_account_number_linked":"4280912401","source_account_holder_name_linked":"Don Philip","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":1503}', '4280912401', '5827241966', '2025-06-25 02:42:19'),
(98, 'IMF-20250625-094219-d7f495d2-S', 10, 3, 200, 'Transfer to Linked Account (5827241966) - ', 'completed', 19, 'internal_pull_outgoing', '{"source_linked_account_id":"19","source_account_number_linked":"4280912401","source_account_holder_name_linked":"Don Philip","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":1503}', '4280912401', '5827241966', '2025-06-25 02:42:19'),
(99, 'IMF-20250627-132357-0db3b90d-R', 13, 1, 70, 'Deposit from Internal Linked Account (4280912401) - Don Philip', 'completed', 19, 'deposit_internal_completed', '{"source_linked_account_id":"19","source_account_number_linked":"4280912401","source_account_holder_name_linked":"Don Philip","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":1703}', '4280912401', '5827241966', '2025-06-27 06:23:57'),
(100, 'IMF-20250627-132357-0db3b90d-S', 10, 3, 70, 'Transfer to Linked Account (5827241966) - ', 'completed', 19, 'internal_pull_outgoing', '{"source_linked_account_id":"19","source_account_number_linked":"4280912401","source_account_holder_name_linked":"Don Philip","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":1703}', '4280912401', '5827241966', '2025-06-27 06:23:57'),
(101, 'IMF-20250629-004001-b0873a93-R', 13, 1, 60, 'Deposit from Internal Linked Account (9494405173) - Morris Abali', 'completed', 21, 'deposit_internal_completed', '{"source_linked_account_id":"21","source_account_number_linked":"9494405173","source_account_holder_name_linked":"Morris Abali","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":1773}', '9494405173', '5827241966', '2025-06-28 17:40:01'),
(102, 'IMF-20250629-004001-b0873a93-S', 11, 3, 60, 'Transfer to Linked Account (5827241966) - ', 'completed', 21, 'internal_pull_outgoing', '{"source_linked_account_id":"21","source_account_number_linked":"9494405173","source_account_holder_name_linked":"Morris Abali","source_bank_name_linked":"- UBS Micro Finance Bank","primary_account_balance_before":1773}', '9494405173', '5827241966', '2025-06-28 17:40:01'),
(103, 'IMF-20250629-004200-3b11e8e5-S', 13, 3, 200, 'Transfer to Sunday Ozon (Account: 4231498915)', 'completed', NULL, '0', '{"sender_balance_before":1833,"receiver_account_number":"4231498915","receiver_account_name":"Sunday Ozon","narration":""}', '5827241966', '4231498915', '2025-06-28 17:42:00'),
(104, 'IMF-20250629-004200-3b11e8e5-R', 24, 1, 200, 'Transfer from Charles Awuru (Account: 5827241966)', 'completed', NULL, '0', '{"receiver_balance_before":0,"sender_account_number":"5827241966","sender_account_name":"Charles Awuru","narration":""}', '5827241966', '4231498915', '2025-06-28 17:42:00'),
(105, NULL, 12, 1, 10000, 'Bonus', 'completed', NULL, NULL, NULL, NULL, NULL, '2025-06-28 18:46:09'),
(106, 'IMF-20250629-015215-b6005cf6-S', 12, 3, 10000, 'Transfer to Charles Awuru (Account: 5827241966)', 'completed', NULL, '0', '{"sender_balance_before":23940,"receiver_account_number":"5827241966","receiver_account_name":"Charles Awuru","narration":""}', '3963787860', '5827241966', '2025-06-28 18:52:15'),
(107, 'IMF-20250629-015215-b6005cf6-R', 13, 1, 10000, 'Transfer from Miracle Thomas (Account: 3963787860)', 'completed', NULL, '0', '{"receiver_balance_before":1633,"sender_account_number":"3963787860","sender_account_name":"Miracle Thomas","narration":""}', '3963787860', '5827241966', '2025-06-28 18:52:15'),
(108, 'IMF-20250629-072204-6420d309-R', 20, 1, 1000, 'Deposit from Internal Linked Account (5827241966) - Charles Awuru', 'completed', 27, 'deposit_internal_completed', '{"source_linked_account_id":"27","source_account_number_linked":"5827241966","source_account_holder_name_linked":"Charles Awuru","source_bank_name_linked":"IMF","primary_account_balance_before":0}', '5827241966', '5387112226', '2025-06-29 00:22:04'),
(109, 'IMF-20250629-072204-6420d309-S', 13, 3, 1000, 'Transfer to Linked Account (5387112226) - ', 'completed', 27, 'internal_pull_outgoing', '{"source_linked_account_id":"27","source_account_number_linked":"5827241966","source_account_holder_name_linked":"Charles Awuru","source_bank_name_linked":"IMF","primary_account_balance_before":0}', '5827241966', '5387112226', '2025-06-29 00:22:04');

--
-- Table structure for table "users"
--
DROP TABLE IF EXISTS "users";
CREATE TABLE "users" (
    "id" SERIAL PRIMARY KEY,
    "firstname" VARCHAR(250) NOT NULL,
    "lastname" VARCHAR(250) NOT NULL,
    "username" TEXT NOT NULL,
    "password" TEXT NOT NULL,
    "avatar" TEXT DEFAULT NULL,
    "last_login" TIMESTAMP DEFAULT NULL,
    "type" BOOLEAN NOT NULL DEFAULT FALSE,
    "date_added" TIMESTAMP NOT NULL DEFAULT NOW(),
    "date_updated" TIMESTAMP DEFAULT NULL
);

--
-- Trigger to update "date_updated" column on row modification
--
CREATE TRIGGER "update_users_date_updated"
BEFORE UPDATE ON "users"
FOR EACH ROW
EXECUTE PROCEDURE update_timestamp();

--
-- Dumping data for table "users"
--
INSERT INTO "users" ("id", "firstname", "lastname", "username", "password", "avatar", "last_login", "type", "date_added", "date_updated") VALUES
(1, 'Adminstrator', 'Admin', 'admin', '$2y$10$ptv5.rayGI01m0SX1A0NOex0CvVNUTbBkyLMcnOTAChFUxQtLH7oq', 'uploads/1624240500_avatar.png', NULL, TRUE, '2021-01-20 14:02:37', '2025-06-28 11:32:06');

--
-- Table structure for table "user_linked_accounts"
--
DROP TABLE IF EXISTS "user_linked_accounts";
CREATE TABLE "user_linked_accounts" (
    "id" SERIAL PRIMARY KEY,
    "user_id" INTEGER NOT NULL,
    "account_label" VARCHAR(255) NOT NULL,
    "bank_name" VARCHAR(255) NOT NULL,
    "routing_number" VARCHAR(50) DEFAULT NULL,
    "iban" VARCHAR(50) DEFAULT NULL,
    "beneficiary_address" TEXT DEFAULT NULL,
    "beneficiary_phone" VARCHAR(20) DEFAULT NULL,
    "swift_bic" VARCHAR(20) DEFAULT NULL,
    "account_number" VARCHAR(255) NOT NULL,
    "account_holder_name" VARCHAR(255) NOT NULL,
    "is_internal_bank" BOOLEAN NOT NULL DEFAULT FALSE,
    "account_type" VARCHAR(50) DEFAULT NULL,
    "link_type" link_type_enum NOT NULL,
    "status" VARCHAR(50) NOT NULL DEFAULT 'active',
    "date_added" TIMESTAMP NOT NULL DEFAULT NOW()
);

--
-- Dumping data for table "user_linked_accounts"
--
INSERT INTO "user_linked_accounts" ("id", "user_id", "account_label", "bank_name", "routing_number", "iban", "beneficiary_address", "beneficiary_phone", "swift_bic", "account_number", "account_holder_name", "is_internal_bank", "account_type", "link_type", "status", "date_added") VALUES
(2, 4, 'HOUSE HOLD', '- UBS Micro Finance Bank', NULL, NULL, NULL, NULL, NULL, '5994588630', 'George  Anderson', TRUE, 'Savings', 'source', 'active', '2025-06-11 22:56:12'),
(3, 4, 'WIFY', 'STANDARD BANK', NULL, NULL, NULL, NULL, NULL, '7654387652', 'WIFY CHIDON', FALSE, 'Checking', 'beneficiary', 'active', '2025-06-11 22:57:50'),
(21, 13, 'MY FRIEND', '- UBS Micro Finance Bank', '', '', '', '', '', '9494405173', 'Morris Abali', TRUE, 'Savings', 'source', 'active', '2025-06-18 21:59:02'),
(23, 11, 'My Sister ', '- IMF Micro Finance Bank', '', '', '', '', '', '3963787860', 'Miracle Thomas', TRUE, 'Loan', 'beneficiary', 'active', '2025-06-20 18:20:20'),
(24, 12, 'brother', '- IMF Micro Finance Bank', '', '', '', '', '', '9494405173', 'Morris Abali', TRUE, 'Savings', 'source', 'active', '2025-06-20 18:30:13'),
(25, 22, 'MY DAD', 'IMF', '', '', '', 'awuu@gmail.com', '', '3777431476', 'Hen Awu', TRUE, 'Savings', 'source', 'active', '2025-06-28 06:42:30'),
(26, 20, 'My Sister', 'IMF', '', '', '', 'jjj@gmail.com', '', '4231498915', 'Sunday Ozon', TRUE, 'Savings', 'source', 'active', '2025-06-28 23:18:39'),
(27, 20, 'MY DADS', 'IMF', '', '', '', 'jjj@gmail.com', '', '5827241966', 'Charles Awuru', TRUE, 'Savings', 'source', 'active', '2025-06-28 23:19:46');

--
-- Set sequence restart values to match original MySQL auto_increment values
--
ALTER SEQUENCE "accounts_id_seq" RESTART WITH 25;
ALTER SEQUENCE "announcements_id_seq" RESTART WITH 4;
ALTER SEQUENCE "inquiries_id_seq" RESTART WITH 4;
ALTER SEQUENCE "system_info_id_seq" RESTART WITH 15;
ALTER SEQUENCE "transactions_id_seq" RESTART WITH 110;
ALTER SEQUENCE "users_id_seq" RESTART WITH 6;
ALTER SEQUENCE "user_linked_accounts_id_seq" RESTART WITH 28;

--
-- Add foreign key constraints
--
ALTER TABLE "user_linked_accounts" ADD CONSTRAINT "fk_linked_user_id" FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE;
